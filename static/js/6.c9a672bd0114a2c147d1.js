webpackJsonp([6],{"9aoM":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Xxa5"),a=s.n(i),n=s("exGp"),r=s.n(n),o=s("hUNI"),c=s("IcnI"),l=s("Gtzc"),d=s("MNu1"),u=s.n(d),h=s("iNPy"),m=s.n(h),g={name:"WhiteList",mixins:[o.a,l.a],data:function(){return{whitePage:{pageSize:10,currentPage:1},img:[{id:0,imgurl:s("WZxh")},{id:1,imgurl:s("m+rw")}],isListen:!1}},computed:{listNews:function(){return"en"===this.$i18n.locale?m.a[0]:u.a[0]},countDown:function(){return{d:this.$store.state.countDown.days,h:this.$store.state.countDown.hours,m:this.$store.state.countDown.minutes,s:this.$store.state.countDown.seconds}},whiteStatus:function(){var t=this.$store.state.metamask.whiteStatus;return null!==t&&t},whiteList:function(){var t=this.$store.state.contract.allWhiteList;return null===t&&(t=[]),t}},watch:{whiteList:function(t){if(null!==t&&!this.$ethConf.subscribeMark.TobeWhitelistAddress){var e=this.$myContracts&&this.$myContracts.contractTeam;e&&this.$store.dispatch("contract/startListenEvent",{contract:e,eventName:"TobeWhitelistAddress"})}}},methods:{target:function(t){this.$store.commit("news/selectIndex",t),this.$router.push("/news/newsDetail")},whitePageCurrentChange:function(t){this.whitePage.currentPage=t},toBeWhitelistAddress:function(){var t=this;return r()(a.a.mark(function e(){var s,i,n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.whiteStatus){e.next=3;break}return e.abrupt("return");case 3:if((s={}).referralAddress=t.checkUrlParam(),i=t.$ethConf.adminAddress,s.referralAddress&&i.includes(s.referralAddress)){e.next=9;break}return t.$notify({title:t.metaInfo.warning,message:t.metaInfo.checkAddress,position:"top-left",type:"warning"}),e.abrupt("return");case 9:if(1===t.$store.state.metamask.status){e.next=14;break}t.$notify({title:t.metaInfo.warning,message:t.metaInfo.loginWallet,type:"warning"}),e.next=27;break;case 14:if(n=t.$myProvider,n.networkVersion===t.$ethConf.networkVersion){e.next=20;break}t.$notify({title:t.metaInfo.warning,message:t.metaInfo.networkVersion,type:"warning"}),e.next=27;break;case 20:return r=t.$myContracts&&t.$myContracts.contractTeam,o=t.$myWeb3,e.next=24,o.eth.getGasPrice();case 24:s.gasPrice=e.sent,s.gasLimit=t.$ethConf.gasLimit,r&&(s.from=n.selectedAddress,r.methods.toBeWhitelistAddress(s.referralAddress).send({from:s.from,gasPrice:s.gasPrice,gas:s.gasLimit},function(t,e){t?console.error(t):c.a.commit("metamask/setWhiteStatus",!0)}));case 27:case"end":return e.stop()}},e,t)}))()}},created:function(){this.$myProvider&&(null===this.$store.state.contract.allWhiteList&&this.$store.dispatch("contract/getAdminWhitelistAddress"))}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"whitelist"},[s("div",{staticClass:"block hidden-md-and-down"},[s("el-carousel",{attrs:{height:"34rem"}},t._l(t.img,function(t){return s("el-carousel-item",{key:t.id},[s("el-image",{staticClass:"image",attrs:{src:t.imgurl,fit:"cover"}})],1)}),1),t._v(" "),s("el-alert",{attrs:{type:"info","show-icon":"",closable:!1}},[s("p",{on:{click:function(e){return t.target(0)}}},[t._v(t._s(t.listNews.title))])])],1),t._v(" "),s("el-card",{staticClass:"whitelist-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"card-title"},[t._v(t._s(t.$t("whitelist.cardTilte")))])]),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("div",{staticClass:"body-title"},[s("p",{staticClass:"title-countdown"},[t._v(t._s(t.$t("whitelist.countdown")))]),t._v(" "),s("p",{staticClass:"countdown-time"},[t._v(t._s(t.countDown.d)+" Days "+t._s(t.countDown.h)+" : "+t._s(t.countDown.m)+" : "+t._s(t.countDown.s))]),t._v(" "),s("p",{staticClass:"whitelist-rules"},[t._v(t._s(t.$t("whitelist.rules")))])]),t._v(" "),s("div",{staticClass:"card-middle"},[s("el-button",{attrs:{round:"",disabled:t.whiteStatus},on:{click:t.toBeWhitelistAddress}},[t._v(t._s(t.whiteStatus?t.$t("whitelist.disableBtn"):t.$t("whitelist.btnSilver")))])],1)])]),t._v(" "),s("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"0px",height:"305px"}}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"card-title"},[t._v(t._s(t.$t("commom.address")))])]),t._v(" "),s("div",{staticStyle:{height:"250px"}},t._l(t.whiteList.slice((t.whitePage.currentPage-1)*t.whitePage.pageSize,t.whitePage.currentPage*t.whitePage.pageSize),function(e){return s("div",{key:e.index,staticClass:"address"},[t._v(t._s(e))])}),0),t._v(" "),s("div",{staticStyle:{"text-align":"center",padding:"10px 0","border-top":"1px solid #f9d76c"}},[s("el-pagination",{attrs:{layout:"prev, pager, next",total:t.whiteList.length,"page-size":t.whitePage.pageSize,"pager-count":5},on:{"current-change":t.whitePageCurrentChange}})],1)])],1)},staticRenderFns:[]};var w=s("VU/8")(g,f,!1,function(t){s("uQyx")},"data-v-16bf2f40",null);e.default=w.exports},WZxh:function(t,e,s){t.exports=s.p+"static/img/purchase1.50f36d7.jpg"},"m+rw":function(t,e,s){t.exports=s.p+"static/img/purchase3.529143c.jpg"},uQyx:function(t,e){}});
//# sourceMappingURL=6.c9a672bd0114a2c147d1.js.map